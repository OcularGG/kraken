<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Commission Application - KRAKEN Naval Squadron</title>    <link rel="stylesheet" href="style.css">
    <script src="js/deployment-fixes.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600&family=Crimson+Text:ital,wght@0,400;0,600;1,400&family=Cedarville+Cursive&family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;1,300;1,400&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
          body {
            font-family: 'Cormorant Garamond', serif;
            background: #181818;
            min-height: 100vh;
            padding: 20px;
            color: #2c1810;
            padding-top: 80px;
        }
          .document {
            max-width: 800px;
            margin: 20px auto 50px;
            background: 
                radial-gradient(circle at 20% 20%, rgba(139, 69, 19, 0.03) 1px, transparent 1px),
                radial-gradient(circle at 80% 80%, rgba(139, 69, 19, 0.02) 1px, transparent 1px),
                linear-gradient(45deg, transparent 49%, rgba(139, 69, 19, 0.005) 50%, transparent 51%),
                linear-gradient(135deg, #ffffff 0%, #fefefe 30%, #fcfcfc 70%, #f9f9f9 100%);
            background-size: 30px 30px, 60px 60px, 100px 100px, 100% 100%;
            border: 2px solid #d4c7b0;
            border-radius: 8px;
            padding: 50px;
            box-shadow: 
                0 8px 32px rgba(0,0,0,0.1),
                inset 0 1px 0 rgba(255,255,255,0.8),
                inset 0 -1px 0 rgba(0,0,0,0.05);
            position: relative;
            overflow: hidden;
        }
        
        .document::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                repeating-linear-gradient(
                    90deg,
                    transparent,
                    transparent 2px,
                    rgba(139, 69, 19, 0.005) 2px,
                    rgba(139, 69, 19, 0.005) 3px
                ),
                repeating-linear-gradient(
                    0deg,
                    transparent,
                    transparent 2px,
                    rgba(139, 69, 19, 0.005) 2px,
                    rgba(139, 69, 19, 0.005) 3px
                );
            background-size: 20px 20px, 20px 20px;
            pointer-events: none;
            opacity: 0.3;
        }
          .watermark {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) rotate(-15deg);
            width: 300px;
            height: 300px;
            background-image: url('krakenlogo.png');
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            opacity: 0.03;
            pointer-events: none;
            z-index: 1;
        }
        
        .header {
            text-align: center;
            margin-bottom: 40px;
            position: relative;
            z-index: 2;
        }
        
        .crest {
            width: 80px;
            height: 80px;
            margin: 0 auto 20px;
            background: url('krakenlogo.png') no-repeat center center;
            background-size: contain;
        }
        
        .title {
            font-family: 'Cinzel', serif;
            font-size: 32px;
            font-weight: 600;
            color: #8b4513;
            margin-bottom: 10px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }
        
        .subtitle {
            font-size: 18px;
            color: #5d4037;
            font-style: italic;
            margin-bottom: 5px;
        }
          .commission-number {
            font-size: 14px;
            color: #666;
            font-family: monospace;
            letter-spacing: 1px;
        }
        
        .help-text {
            font-size: 12px;
            color: #666;
            font-style: italic;
            margin-top: 4px;
        }
        
        .conditional-field {
            display: none;
            margin-top: 15px;
        }
        
        .conditional-field.show {
            display: block;
        }        .signature-input {
            font-family: 'Cedarville Cursive', cursive !important;
            font-size: 24px !important;
            font-weight: 400 !important;
            color: #2c1810 !important;
            letter-spacing: 1px;
        }
          .declaration-checkbox {
            display: flex;
            align-items: flex-start;
            gap: 15px;
            margin-bottom: 20px;
            padding: 15px;
            background: rgba(139, 69, 19, 0.05);
            border-radius: 8px;
            border: 1px solid rgba(139, 69, 19, 0.1);
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .declaration-checkbox:hover {
            background: rgba(139, 69, 19, 0.08);
        }
          .checkbox-wrapper {
            position: relative;
            min-width: 24px;
            height: 24px;
            cursor: pointer;
        }
        
        .checkbox-wrapper input[type="checkbox"] {
            opacity: 0;
            position: absolute;
            width: 24px;
            height: 24px;
            cursor: pointer;
            z-index: 2;
        }
        
        .custom-checkbox {
            width: 24px;
            height: 24px;
            border: 2px solid #8b4513;
            border-radius: 4px;
            background: white;
            position: absolute;
            top: 0;
            left: 0;
            cursor: pointer;
            transition: all 0.3s ease;
        }
          .custom-checkbox::after {
            content: "âœ“";
            position: absolute;
            top: -2px;
            left: 2px;
            font-family: 'Cedarville Cursive', cursive;
            font-size: 20px;
            font-weight: 400;
            color: #2c1810;
            opacity: 0;
            transform: scale(0.5) rotate(-10deg);
            transition: all 0.3s ease;
        }
        
        .checkbox-wrapper input[type="checkbox"]:checked + .custom-checkbox {
            background: rgba(139, 69, 19, 0.1);
            border-color: #8b4513;
        }
        
        .checkbox-wrapper input[type="checkbox"]:checked + .custom-checkbox::after {
            opacity: 1;
            transform: scale(1) rotate(-5deg);
        }
        
        .declaration-text {
            flex: 1;
            line-height: 1.5;
            color: #2c1810;
        }
        
        .form-content {
            position: relative;
            z-index: 2;
        }
        
        .section {
            margin-bottom: 35px;
            padding: 25px;
            background: rgba(255, 255, 255, 0.3);
            border: 1px solid rgba(139, 69, 19, 0.2);
            border-radius: 8px;
        }
        
        .section-title {
            font-family: 'Cinzel', serif;
            font-size: 20px;
            font-weight: 600;
            color: #8b4513;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid rgba(139, 69, 19, 0.3);
        }
          .form-row {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
            align-items: flex-start;
        }
        
        .form-group {
            flex: 1;
        }
        
        .form-group.full-width {
            flex: 100%;
        }
        
        .form-group.half-width {
            flex: 50%;
        }
        
        label {
            display: block;
            font-weight: 600;
            color: #5d4037;
            margin-bottom: 8px;
            font-size: 16px;
        }
        
        input[type="text"],
        input[type="email"],
        input[type="tel"],
        input[type="date"],
        select,
        textarea {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #d7ccc8;
            border-radius: 6px;
            font-family: 'Crimson Text', serif;
            font-size: 16px;
            background: rgba(255, 255, 255, 0.8);
            color: #2c1810;
            transition: all 0.3s ease;
        }
        
        input[type="text"]:focus,
        input[type="email"]:focus,
        input[type="tel"]:focus,
        input[type="date"]:focus,
        select:focus,
        textarea:focus {
            outline: none;
            border-color: #8b4513;
            background: rgba(255, 255, 255, 0.95);
            box-shadow: 0 0 8px rgba(139, 69, 19, 0.3);
        }
        
        textarea {
            resize: vertical;
            min-height: 100px;
        }
        
        .checkbox-group {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 10px;
        }
        
        .checkbox-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 12px;
            background: rgba(255, 255, 255, 0.5);
            border: 1px solid rgba(139, 69, 19, 0.2);
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .checkbox-item:hover {
            background: rgba(139, 69, 19, 0.1);
        }
        
        .checkbox-item input[type="checkbox"] {
            width: auto;
            margin: 0;
        }
        
        .declaration {
            background: linear-gradient(135deg, rgba(139, 69, 19, 0.05), rgba(139, 69, 19, 0.1));
            border: 2px solid rgba(139, 69, 19, 0.3);
            padding: 25px;
            border-radius: 10px;
            margin: 30px 0;
            font-style: italic;
        }
        
        .declaration p {
            margin-bottom: 15px;
            line-height: 1.6;
        }
        
        .signature-section {
            display: flex;
            justify-content: space-between;
            gap: 30px;
            margin-top: 30px;
        }
        
        .signature-box {
            flex: 1;
            text-align: center;
        }
        
        .signature-line {
            border-bottom: 2px solid #8b4513;
            height: 50px;
            margin-bottom: 10px;
            position: relative;
        }
        
        .signature-label {
            font-weight: 600;
            color: #5d4037;
            font-size: 14px;
        }
        
        .submit-section {
            text-align: center;
            margin-top: 40px;
        }
        
        .submit-btn {
            background: linear-gradient(135deg, #8b4513, #a0522d);
            color: white;
            padding: 15px 40px;
            border: none;
            border-radius: 8px;
            font-family: 'Cinzel', serif;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(139, 69, 19, 0.3);
        }
        
        .submit-btn:hover {
            background: linear-gradient(135deg, #a0522d, #8b4513);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(139, 69, 19, 0.4);
        }
          .print-btn {
            background: linear-gradient(135deg, #2c5530, #3e7b3e);
            color: white;
            padding: 12px 30px;
            border: none;
            border-radius: 6px;
            font-family: 'Crimson Text', serif;
            font-size: 16px;
            cursor: pointer;
            margin-left: 15px;
            transition: all 0.3s ease;
            display: none;
        }
        
        .print-btn:hover {
            background: linear-gradient(135deg, #3e7b3e, #2c5530);
            transform: translateY(-1px);
        }
          @media print {
            .submit-section { display: none; }
            .document { margin: 0; box-shadow: none; }
            body { background: white; }
        }
        
        @media (max-width: 768px) {
            .document { padding: 30px 20px; margin: 80px 10px 30px; }
            .form-row { flex-direction: column; gap: 10px; }
            .signature-section { flex-direction: column; gap: 20px; }
            .nav-links { display: none; }
        }
        
        /* Success Page Styles */
        .success-page {
            display: none;
        }
        
        .success-page.show {
            display: block;
        }
        
        .form-page.hide {
            display: none;
        }
          .wax-seal {
            position: absolute;
            bottom: 50px;
            right: 50px;
            width: 140px;
            height: 140px;
            background: 
                radial-gradient(circle at 30% 30%, #d4af37 0%, #b8860b 25%, #8b6914 50%, #6b4e03 75%, #4a3600 100%),
                radial-gradient(circle at 70% 70%, rgba(255,255,255,0.1) 0%, transparent 50%);
            border-radius: 50%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            box-shadow: 
                inset 0 0 30px rgba(0,0,0,0.4),
                inset 5px 5px 15px rgba(255,215,0,0.3),
                inset -5px -5px 15px rgba(0,0,0,0.5),
                0 8px 25px rgba(0,0,0,0.6),
                0 3px 8px rgba(0,0,0,0.3);
            border: 4px solid #4a3600;
            transform: rotate(-8deg);
            position: relative;
        }
        
        .wax-seal::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 50px;
            height: 50px;
            background-image: url('krakenlogo.png');
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            opacity: 0.9;
            filter: drop-shadow(2px 2px 4px rgba(0,0,0,0.5));
        }
        
        .wax-seal::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border-radius: 50%;
            background: 
                radial-gradient(circle at 20% 20%, rgba(255,255,255,0.2) 0%, transparent 30%),
                radial-gradient(circle at 80% 80%, rgba(0,0,0,0.3) 0%, transparent 40%);
            pointer-events: none;
        }
        
        .wax-seal-text {
            font-family: 'Cinzel', serif;
            color: #2c1810;
            font-size: 11px;
            font-weight: 700;
            text-align: center;
            margin-top: 35px;
            letter-spacing: 2px;
            text-shadow: 
                1px 1px 2px rgba(0,0,0,0.5),
                0 0 4px rgba(255,215,0,0.3);
            z-index: 2;
            position: relative;
        }
        
        .submitted-data {
            color: #2c1810;
            line-height: 1.6;
        }
        
        .submitted-data .field-label {
            font-weight: 600;
            color: #5d4037;
            display: inline-block;
            min-width: 150px;
        }
        
        .submitted-data .field-value {
            color: #2c1810;
        }
        
        .back-to-form {
            background: linear-gradient(135deg, #5d4037, #8b4513);
            color: white;
            padding: 12px 30px;
            border: none;
            border-radius: 6px;
            font-family: 'Cinzel', serif;
            font-size: 16px;
            cursor: pointer;
            margin-top: 30px;
            transition: all 0.3s ease;
        }
        
        .back-to-form:hover {
            background: linear-gradient(135deg, #8b4513, #5d4037);
            transform: translateY(-1px);
        }
    </style>
</head>
<body>
    <!-- Sticky Navigation Menu -->
    <nav class="kraken-navbar">
        <ul>            <li><a href="index.html">Home</a></li>
            <li><a href="marketplace.html">Marketplace</a></li>
            <li><a href="tools.html">Tools</a></li>
            <li><a href="orgchart.html">Command</a></li>
            <li><a href="pb.html">PB</a></li>
            <li><a href="apply-typeform.html" class="active">Apply</a></li>
        </ul>    </nav>

    <div class="document">
        <div class="watermark"></div>
        
        <div class="form-page" id="formPage">
            <div class="header">
                <div class="crest"></div>
                <h1 class="title">COMMISSION APPLICATION</h1>
                <p class="subtitle">Application to be commissioned in His Majesty's Royal Navy</p>
                <p class="subtitle">under the banner of the KRAKEN Squadron</p>
                <p class="commission-number">KRKN-F-RN-2025</p>
                <div style="margin-top: 20px; padding: 15px; border: 1px solid rgba(139, 69, 19, 0.3); background: rgba(139, 69, 19, 0.05); border-radius: 5px;">
                    <div style="display: flex; justify-content: space-between; font-size: 14px; color: #5d4037;">
                        <div style="text-align: left;">
                            <strong>Admiral of the Fleet</strong><br>
                            Tommery Templeman
                        </div>
                        <div style="text-align: right;">
                            <strong>First Sea Lord</strong><br>
                            CHOSEN
                        </div>
                    </div>
                </div>
            </div>
        
        <form class="form-content" action="#" method="POST">            <div class="section">
                <h2 class="section-title">I. Personal Particulars</h2>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="captainName">Name (Captain Name):</label>
                        <input type="text" id="captainName" name="captainName" required>
                        <div class="help-text">This is the name of your Captain in-game</div>
                    </div>
                    <div class="form-group">
                        <label for="preferredName">Preferred Name:</label>
                        <input type="text" id="preferredName" name="preferredName" required>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="age">Age:</label>
                        <select id="age" name="age" required>
                            <option value="">Select Age Range</option>
                            <option value="18-21">18-21</option>
                            <option value="21-29">21-29</option>
                            <option value="30+">30+</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="discord">Discord:</label>
                        <input type="text" id="discord" name="discord" required>
                        <div class="help-text">Your Discord username</div>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="timezone">Time Zone:</label>
                        <select id="timezone" name="timezone" required>
                            <option value="">Select Time Zone</option>
                            <optgroup label="North American Time Zones">
                                <option value="NST">NST (Newfoundland Standard Time)</option>
                                <option value="AST">AST (Atlantic Standard Time)</option>
                                <option value="EST">EST (Eastern Standard Time)</option>
                                <option value="CST">CST (Central Standard Time)</option>
                                <option value="MST">MST (Mountain Standard Time)</option>
                                <option value="PST">PST (Pacific Standard Time)</option>
                                <option value="AKST">AKST (Alaska Standard Time)</option>
                                <option value="HST">HST (Hawaii Standard Time)</option>
                            </optgroup>
                            <optgroup label="European Time Zones">
                                <option value="GMT">GMT (Greenwich Mean Time)</option>
                                <option value="CET">CET (Central European Time)</option>
                                <option value="EET">EET (Eastern European Time)</option>
                                <option value="WET">WET (Western European Time)</option>
                                <option value="MSK">MSK (Moscow Time)</option>
                                <option value="IST">IST (Irish Standard Time)</option>
                                <option value="BST">BST (British Summer Time)</option>
                            </optgroup>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="nation">Current Nation:</label>
                        <select id="nation" name="nation" required>
                            <option value="">Select Nation</option>
                            <option value="Great Britain">Great Britain</option>
                            <option value="France">France</option>
                            <option value="Spain">Spain</option>
                            <option value="Netherlands">Netherlands</option>
                            <option value="United States">United States</option>
                            <option value="Russia">Russia</option>
                            <option value="Sweden">Sweden</option>
                            <option value="Denmark">Denmark</option>
                            <option value="Poland">Poland</option>
                            <option value="Prussia">Prussia</option>
                            <option value="Pirates">Pirates</option>
                        </select>
                    </div>
                </div>
            </div>
              <div class="section">
                <h2 class="section-title">II. Naval Experience</h2>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="hoursPlayed">Hours in Naval Action:</label>
                        <input type="text" id="hoursPlayed" name="hoursPlayed" required>
                    </div>
                    <div class="form-group">
                        <label for="currentRank">Current Rank:</label>
                        <select id="currentRank" name="currentRank" required>
                            <option value="">Select Rank</option>
                            <option value="Midshipman">Midshipman</option>
                            <option value="Master and Commander">Master and Commander</option>
                            <option value="Captain">Captain</option>
                            <option value="Commodore">Commodore</option>
                            <option value="Rear Admiral">Rear Admiral</option>
                            <option value="Vice Admiral">Vice Admiral</option>
                            <option value="Admiral">Admiral</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group full-width">
                        <label for="previousClans">Previous Naval Commands:</label>
                        <textarea id="previousClans" name="previousClans" placeholder="List any previous clans or naval organizations, including duration of service..."></textarea>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="pbRole">Preferred Port Battle Role:</label>
                        <select id="pbRole" name="pbRole" required>
                            <option value="">Select Role</option>
                            <option value="Screener">Screener</option>
                            <option value="Line of Battle">Line of Battle</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="pbCommander">Are you a Port Battle Commander?</label>
                        <select id="pbCommander" name="pbCommander" required onchange="togglePBExperience()">
                            <option value="">Select</option>
                            <option value="Yes">Yes</option>
                            <option value="No">No</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group full-width conditional-field" id="pbExperienceField">
                        <label for="pbExperience">If you are a Port Battle Commander please describe your prior experience:</label>
                        <textarea id="pbExperience" name="pbExperience" placeholder="Describe your port battle command experience, including major battles led, fleet sizes commanded, tactical approaches, etc..."></textarea>
                    </div>
                </div>            </div>
            
            <div class="section">
                <h2 class="section-title">III. Crafting Experience</h2>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="crafter">Are you a Crafter?</label>
                        <select id="crafter" name="crafter" required>
                            <option value="">Select</option>
                            <option value="Yes">Yes</option>
                            <option value="No">No</option>
                        </select>
                    </div>
                </div>
            </div>
            
            <div class="section">
                <h2 class="section-title">IV. Availability & Commitment</h2>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="playTime">Weekly Play Time (hours):</label>
                        <input type="text" id="playTime" name="playTime" required>
                    </div>
                    <div class="form-group">
                        <label for="portBattles">Port Battle Availability:</label>
                        <select id="portBattles" name="portBattles" required>
                            <option value="">Select Availability</option>
                            <option value="Weekday">Weekday</option>
                            <option value="Weekends">Weekends</option>
                            <option value="Everyday">Everyday</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group full-width">
                        <label for="schedule">Typical Playing Schedule:</label>
                        <textarea id="schedule" name="schedule" placeholder="Describe your typical playing times, including weekdays and weekends..."></textarea>
                    </div>
                </div>
            </div>
              <div class="section">
                <h2 class="section-title">V. Motivation & Background</h2>
                
                <div class="form-row">
                    <div class="form-group full-width">
                        <label for="whyJoin">Why do you wish to join KRAKEN?</label>
                        <textarea id="whyJoin" name="whyJoin" required placeholder="Explain your reasons for wanting to join our naval squadron..."></textarea>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group full-width">
                        <label for="contribution">What can you contribute to the squadron?</label>
                        <textarea id="contribution" name="contribution" required placeholder="Describe your skills, experience, and what you can bring to KRAKEN..."></textarea>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group full-width">
                        <label for="additionalInfo">Additional Information:</label>
                        <textarea id="additionalInfo" name="additionalInfo" placeholder="Any additional information you would like to share..."></textarea>
                    </div>
                </div>            </div>
            
            <div class="section">
                <h2 class="section-title">VI. Declaration of Service</h2>
                
                <div class="declaration-checkbox">
                    <div class="checkbox-wrapper">
                        <input type="checkbox" id="oath1" name="oath1" required>
                        <div class="custom-checkbox"></div>
                    </div>
                    <div class="declaration-text">
                        I hereby declare that the information provided in this application is true and accurate to the best of my knowledge. I understand that providing false information may result in the rejection of this application or termination of service.
                    </div>
                </div>
                
                <div class="declaration-checkbox">
                    <div class="checkbox-wrapper">
                        <input type="checkbox" id="oath2" name="oath2" required>
                        <div class="custom-checkbox"></div>
                    </div>
                    <div class="declaration-text">
                        I pledge to uphold the honor and traditions of His Majesty's Naval Service and the KRAKEN Squadron, to conduct myself with integrity and professionalism, and to serve with distinction in all naval operations.
                    </div>
                </div>
                
                <div class="declaration-checkbox">
                    <div class="checkbox-wrapper">
                        <input type="checkbox" id="oath3" name="oath3" required>
                        <div class="custom-checkbox"></div>
                    </div>
                    <div class="declaration-text">
                        I understand that membership in KRAKEN requires adherence to squadron rules, regular participation in organized activities, and maintaining the high standards expected of a Royal Navy officer.
                    </div>
                </div>
            </div>
              <div class="signature-section">
                <div class="signature-box">
                    <input type="text" class="signature-input" placeholder="Type your signature here" name="signature" required style="border: none; border-bottom: 2px solid #8b4513; background: transparent; text-align: center; margin-bottom: 10px; padding: 10px;">
                    <div class="signature-label">Applicant's Signature</div>
                </div>                <div class="signature-box">
                    <input type="text" class="signature-input" id="currentDate" name="date" readonly style="border: none; border-bottom: 2px solid #8b4513; background: transparent; text-align: center; margin-bottom: 10px; padding: 10px; font-family: 'Cedarville Cursive', cursive; font-size: 20px; color: #2c1810;">
                    <div class="signature-label">Date</div>
                </div>
            </div>            <div class="submit-section">
                <button type="submit" class="submit-btn">Submit Commission Application</button>
            </div>
        </form>
        </div>
        
        <div class="success-page" id="successPage">
            <div class="header">
                <div class="crest"></div>
                <h1 class="title">COMMISSION APPROVED</h1>
                <p class="subtitle">Application Successfully Submitted</p>
                <p class="subtitle">His Majesty's Royal Navy - KRAKEN Squadron</p>
                <p class="commission-number">KRKN-F-RN-2025</p>
                <div style="margin-top: 20px; padding: 15px; border: 1px solid rgba(139, 69, 19, 0.3); background: rgba(139, 69, 19, 0.05); border-radius: 5px;">
                    <div style="display: flex; justify-content: space-between; font-size: 14px; color: #5d4037;">
                        <div style="text-align: left;">
                            <strong>Admiral of the Fleet</strong><br>
                            Tommery Templeman
                        </div>
                        <div style="text-align: right;">
                            <strong>First Sea Lord</strong><br>
                            CHOSEN
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="section">
                <h2 class="section-title">Commission Application - Submitted</h2>
                <div class="submitted-data" id="submittedData">
                    <!-- Form data will be populated here -->
                </div>
            </div>
            
            <div class="wax-seal">
                <div class="wax-seal-text">KRAKEN</div>
            </div>
            
            <div class="submit-section">
                <button type="button" class="back-to-form" onclick="showForm()">Submit Another Application</button>
            </div>
        </div>
    </div>    <script>        // Set current date
        document.addEventListener('DOMContentLoaded', function() {
            const currentDate = new Date().toLocaleDateString('en-US', {
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
            document.getElementById('currentDate').value = currentDate;
              // Add click handlers for custom checkboxes
            document.querySelectorAll('.checkbox-wrapper').forEach(wrapper => {
                const checkbox = wrapper.querySelector('input[type="checkbox"]');
                const customCheckbox = wrapper.querySelector('.custom-checkbox');
                
                // Make the entire wrapper clickable
                wrapper.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    checkbox.checked = !checkbox.checked;
                    
                    // Trigger change event for validation
                    const event = new Event('change', { bubbles: true });
                    checkbox.dispatchEvent(event);
                });
                
                // Also handle direct checkbox clicks
                checkbox.addEventListener('change', function() {
                    // Update visual state if needed
                    if (this.checked) {
                        customCheckbox.style.borderColor = '#1a1a7e';
                        customCheckbox.style.backgroundColor = 'rgba(139, 69, 19, 0.1)';
                    } else {
                        customCheckbox.style.borderColor = '#8b4513';
                        customCheckbox.style.backgroundColor = 'white';
                    }
                });
            });
            
            // Make entire declaration boxes clickable
            document.querySelectorAll('.declaration-checkbox').forEach(declarationBox => {
                declarationBox.addEventListener('click', function(e) {
                    // Don't trigger if clicking on the checkbox wrapper (avoid double-trigger)
                    if (e.target.closest('.checkbox-wrapper')) {
                        return;
                    }
                    
                    const checkbox = this.querySelector('input[type="checkbox"]');
                    if (checkbox) {
                        checkbox.checked = !checkbox.checked;
                        
                        // Trigger change event for validation
                        const event = new Event('change', { bubbles: true });
                        checkbox.dispatchEvent(event);
                    }
                });
            });
        });
        
        // Toggle PB Experience field
        function togglePBExperience() {
            const pbCommander = document.getElementById('pbCommander').value;
            const pbExperienceField = document.getElementById('pbExperienceField');
            
            if (pbCommander === 'Yes') {
                pbExperienceField.classList.add('show');
                document.getElementById('pbExperience').required = true;
            } else {
                pbExperienceField.classList.remove('show');
                document.getElementById('pbExperience').required = false;
            }
        }
        
        // Show form page
        function showForm() {
            document.getElementById('formPage').classList.remove('hide');
            document.getElementById('successPage').classList.remove('show');
            // Reset form
            document.querySelector('form').reset();
            // Reset current date
            const currentDate = new Date().toLocaleDateString('en-US', {
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
            document.getElementById('currentDate').value = currentDate;
        }
        
        // Show success page
        function showSuccess(formData) {
            document.getElementById('formPage').classList.add('hide');
            document.getElementById('successPage').classList.add('show');
            
            // Populate submitted data
            const submittedDataDiv = document.getElementById('submittedData');
            let html = '';
            
            // Personal Particulars
            html += '<h3 style="color: #8b4513; margin-bottom: 15px;">Personal Particulars</h3>';
            html += `<p><span class="field-label">Captain Name:</span> <span class="field-value">${formData.captainName || 'N/A'}</span></p>`;
            html += `<p><span class="field-label">Preferred Name:</span> <span class="field-value">${formData.preferredName || 'N/A'}</span></p>`;
            html += `<p><span class="field-label">Age:</span> <span class="field-value">${formData.age || 'N/A'}</span></p>`;
            html += `<p><span class="field-label">Discord:</span> <span class="field-value">${formData.discord || 'N/A'}</span></p>`;
            html += `<p><span class="field-label">Time Zone:</span> <span class="field-value">${formData.timezone || 'N/A'}</span></p>`;
            html += `<p><span class="field-label">Current Nation:</span> <span class="field-value">${formData.nation || 'N/A'}</span></p>`;
            
            // Naval Experience
            html += '<h3 style="color: #8b4513; margin: 25px 0 15px 0;">Naval Experience</h3>';
            html += `<p><span class="field-label">Hours in Naval Action:</span> <span class="field-value">${formData.hoursPlayed || 'N/A'}</span></p>`;
            html += `<p><span class="field-label">Current Rank:</span> <span class="field-value">${formData.currentRank || 'N/A'}</span></p>`;
            html += `<p><span class="field-label">Previous Commands:</span> <span class="field-value">${formData.previousClans || 'N/A'}</span></p>`;
            html += `<p><span class="field-label">Preferred PB Role:</span> <span class="field-value">${formData.pbRole || 'N/A'}</span></p>`;
            html += `<p><span class="field-label">PB Commander:</span> <span class="field-value">${formData.pbCommander || 'N/A'}</span></p>`;
            if (formData.pbExperience) {
                html += `<p><span class="field-label">PB Experience:</span> <span class="field-value">${formData.pbExperience}</span></p>`;
            }
            
            // Crafting Experience
            html += '<h3 style="color: #8b4513; margin: 25px 0 15px 0;">Crafting Experience</h3>';
            html += `<p><span class="field-label">Crafter:</span> <span class="field-value">${formData.crafter || 'N/A'}</span></p>`;
            
            // Availability
            html += '<h3 style="color: #8b4513; margin: 25px 0 15px 0;">Availability & Commitment</h3>';
            html += `<p><span class="field-label">Weekly Play Time:</span> <span class="field-value">${formData.playTime || 'N/A'} hours</span></p>`;
            html += `<p><span class="field-label">PB Availability:</span> <span class="field-value">${formData.portBattles || 'N/A'}</span></p>`;
            html += `<p><span class="field-label">Schedule:</span> <span class="field-value">${formData.schedule || 'N/A'}</span></p>`;
            
            // Motivation
            html += '<h3 style="color: #8b4513; margin: 25px 0 15px 0;">Motivation & Background</h3>';
            html += `<p><span class="field-label">Why Join KRAKEN:</span> <span class="field-value">${formData.whyJoin || 'N/A'}</span></p>`;
            html += `<p><span class="field-label">Contribution:</span> <span class="field-value">${formData.contribution || 'N/A'}</span></p>`;
            if (formData.additionalInfo) {
                html += `<p><span class="field-label">Additional Info:</span> <span class="field-value">${formData.additionalInfo}</span></p>`;
            }
            
            // Signature
            html += '<h3 style="color: #8b4513; margin: 25px 0 15px 0;">Declaration</h3>';
            html += `<p><span class="field-label">Signature:</span> <span class="field-value" style="font-family: 'Cedarville Cursive', cursive; font-size: 24px; color: #2c1810;">${formData.signature || 'N/A'}</span></p>`;
            html += `<p><span class="field-label">Date:</span> <span class="field-value">${formData.date || 'N/A'}</span></p>`;
            
            submittedDataDiv.innerHTML = html;
        }
        
        // Send to webhook
        async function sendToWebhook(formData) {
            try {
                // Take a screenshot of the success page for the webhook
                const successPage = document.getElementById('successPage');
                
                // Create a formatted message for Discord
                const discordMessage = {
                    content: "ðŸš¢ **NEW COMMISSION APPLICATION SUBMITTED** ðŸš¢",
                    embeds: [{
                        title: "Royal Navy Commission Application",
                        color: 0xBFA140,
                        thumbnail: {
                            url: "https://cdn.discordapp.com/attachments/your-attachment-url/krakenlogo.png"
                        },
                        fields: [
                            {
                                name: "ðŸ‘¤ Personal Information",
                                value: `**Captain Name:** ${formData.captainName}
**Preferred Name:** ${formData.preferredName}
**Age:** ${formData.age}
**Discord:** ${formData.discord}
**Timezone:** ${formData.timezone}
**Nation:** ${formData.nation}`,
                                inline: false
                            },
                            {
                                name: "âš“ Naval Experience", 
                                value: `**Hours Played:** ${formData.hoursPlayed}
**Current Rank:** ${formData.currentRank}
**PB Role:** ${formData.pbRole}
**PB Commander:** ${formData.pbCommander}`,
                                inline: false
                            },
                            {
                                name: "ðŸ”¨ Crafting & Availability",
                                value: `**Crafter:** ${formData.crafter}
**Weekly Hours:** ${formData.playTime}
**PB Availability:** ${formData.portBattles}`,
                                inline: false
                            },
                            {
                                name: "ðŸ’­ Motivation",
                                value: `${formData.whyJoin.substring(0, 500)}${formData.whyJoin.length > 500 ? '...' : ''}`,
                                inline: false
                            }
                        ],
                        footer: {
                            text: `Application submitted on ${formData.date} | KRAKEN Naval Squadron`
                        },
                        timestamp: new Date().toISOString()
                    }]
                };                // Send to Discord webhook
                const response = await fetch('/api/discord-webhook.js', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(discordMessage)
                });
                
                if (!response.ok) {
                    throw new Error('Webhook request failed');
                }
                
                console.log('Application sent to Discord successfully');
            } catch (error) {
                console.error('Error sending to webhook:', error);
                // Still show success page even if webhook fails
            }
        }
        
        // Form validation and submission
        document.querySelector('form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Basic validation
            const requiredFields = this.querySelectorAll('[required]');
            let allValid = true;
            
            requiredFields.forEach(field => {
                if (field.type === 'checkbox') {
                    if (!field.checked) {
                        field.parentElement.style.borderColor = '#d32f2f';
                        allValid = false;
                    } else {
                        field.parentElement.style.borderColor = 'transparent';
                    }
                } else {
                    if (!field.value.trim()) {
                        field.style.borderColor = '#d32f2f';
                        allValid = false;
                    } else {
                        field.style.borderColor = '#d7ccc8';
                    }
                }
            });
            
            if (allValid) {
                // Collect form data
                const formData = new FormData(this);
                const data = {};
                
                for (let [key, value] of formData.entries()) {
                    if (data[key]) {
                        if (Array.isArray(data[key])) {
                            data[key].push(value);
                        } else {
                            data[key] = [data[key], value];
                        }
                    } else {
                        data[key] = value;
                    }
                }
                
                console.log('Form Data:', data);
                
                // Send to webhook
                sendToWebhook(data);
                
                // Show success page
                showSuccess(data);
                
            } else {
                alert('Please fill in all required fields and check all required declarations.');
            }
        });
        
        // Auto-resize textareas
        document.querySelectorAll('textarea').forEach(textarea => {
            textarea.addEventListener('input', function() {
                this.style.height = 'auto';
                this.style.height = this.scrollHeight + 'px';
            });
        });
    </script>
</body>
</html>
